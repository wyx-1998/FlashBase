# FlashBase v1.1.1 发布说明

🎉 **FlashBase v1.1.1 正式发布！**

这是一个重要的稳定性和用户体验改进版本，完善了文件导入快捷键配置功能，修复了托盘交互问题，并提升了整体系统稳定性。

## 🆕 新功能

### ⌨️ 文件导入快捷键配置
- **可视化配置**：在设置页面新增文件导入快捷键自定义配置项
- **实时生效**：快捷键配置修改后立即生效，无需重启应用
- **智能验证**：自动检测快捷键冲突，确保配置有效性
- **默认保护**：自动补充缺失的快捷键配置，使用合理默认值

### 🎯 快捷键管理增强
- **统一架构**：完善快捷键注册、配置和管理的统一逻辑
- **跨平台兼容**：支持 Windows/Linux (`Ctrl+Shift+F`) 和 macOS (`Cmd+Shift+F`) 平台
- **多种触发方式**：支持全局快捷键、菜单点击、拖拽等多种文件导入方式

## 🐛 问题修复

### 🔧 核心修复
- **托盘点击闪退**：修复托盘图标点击时应用崩溃的问题
- **窗口显示竞态**：解决窗口创建和显示过程中的竞态条件
- **Dock图标管理**：改进 macOS 下 Dock 图标显示的一致性
- **窗口焦点处理**：优化窗口切换和焦点管理逻辑

### 🛡️ 稳定性改进
- **错误恢复机制**：增强应用的错误处理和自动恢复能力
- **调试日志**：添加详细的调试信息，便于问题诊断
- **内存管理**：优化内存使用，减少内存泄漏风险

## 🎨 用户体验改进

### 界面优化
- **设置页面增强**：新增文件导入快捷键配置项，界面更完整
- **配置同步**：设置修改后实时同步到所有相关组件
- **状态反馈**：更清晰的配置状态和操作结果提示

### 交互优化
- **托盘交互**：优化托盘菜单的响应速度和稳定性
- **快捷键响应**：提升全局快捷键的响应速度和可靠性
- **配置体验**：简化快捷键配置流程，提供直观的操作指导

## 🔧 技术改进

### 架构重构
- **托盘逻辑分离**：分离窗口创建和显示逻辑，提升模块化程度
- **类型安全增强**：完善 TypeScript 类型定义，提高代码质量
- **配置管理优化**：统一配置管理机制，确保数据一致性

### 构建优化
- **打包配置改进**：确保所有新功能正确包含在发布包中
- **版本信息统一**：统一应用内各处的版本号和产品描述
- **依赖管理**：优化依赖结构，提升构建效率

## 📋 完整更新日志

详细的更新日志请查看 [CHANGELOG.md](./CHANGELOG.md)

## 🚀 升级指南

### 从 v1.1.0 升级
1. 下载最新版本安装包
2. 完全退出当前运行的 FlashBase 应用
3. 安装新版本（建议替换旧版本）
4. 启动应用，配置会自动迁移
5. 检查设置页面中的文件导入快捷键配置

### 权限配置（macOS 用户）
由于增强了快捷键功能，macOS 用户可能需要：
1. 打开"系统偏好设置" → "安全性与隐私" → "隐私" → "辅助功能"
2. 确保 FlashBase 在列表中且已勾选
3. 如果不在列表中，点击 "+" 添加应用

### 新用户安装
1. 从 [Releases](https://github.com/wyx-1998/FlashBase/releases) 页面下载对应平台的安装包
2. 运行安装程序
3. 启动应用并完成初始配置
4. 在设置中配置 FastGPT 连接和快捷键

## 🔗 下载链接

- **Windows**: [FlashBase-1.1.1-Setup.exe](https://github.com/wyx-1998/FlashBase/releases/download/v1.1.1/FlashBase-1.1.1-Setup.exe)
- **macOS**: [FlashBase-1.1.1.dmg](https://github.com/wyx-1998/FlashBase/releases/download/v1.1.1/FlashBase-1.1.1.dmg)
- **Linux**: [FlashBase-1.1.1.AppImage](https://github.com/wyx-1998/FlashBase/releases/download/v1.1.1/FlashBase-1.1.1.AppImage)

## 🧪 测试验证

### 功能验证清单
- [ ] 应用正常启动和退出
- [ ] 托盘图标点击正常，无闪退现象
- [ ] 设置页面显示文件导入快捷键配置项
- [ ] 默认快捷键 `Cmd+Shift+F` (macOS) 或 `Ctrl+Shift+F` (Windows/Linux) 正常工作
- [ ] 可以自定义文件导入快捷键
- [ ] 快捷键配置修改后立即生效
- [ ] 文件导入功能正常工作
- [ ] 其他快捷键（剪贴板导入、显示面板）正常

### 已知问题
- 首次安装后可能需要手动授予辅助功能权限（macOS）
- 某些快捷键组合可能与系统快捷键冲突，建议使用推荐的默认配置

## 🤝 反馈与支持

如果您在使用过程中遇到任何问题或有改进建议，请：

- 提交 [GitHub Issue](https://github.com/wyx-1998/FlashBase/issues)
- 发送邮件至：wangyuxing0802@gmail.com
- 查看 [安装和测试指南](./INSTALL_AND_TEST_GUIDE.md)
- 查看 [项目文档](./docs/README.md)

## 🙏 致谢

感谢所有用户的反馈和建议，特别是对托盘交互问题和快捷键配置需求的反馈。您的支持是我们持续改进的动力！

---

**FlashBase Team**  
2025年1月20日